2015-07-15 Martin Grønholdt

* slighttp/http-common.c (print_clf_status): Renamed http_print_clf_status and reimplemented.
* slighttp/http-common.h: Changed renamed and changed print_clf_status as http_print_clf_status.
* slighttp/http.h (http_response): Added message_size.
* slighttp/http-response.c: Added 405 status.
* 			   (http_process_response): Print CLF log to serial port.
* slighttp/http-response.h: Added 405 status.


2015-07-10 Martin Grønholdt

* user_config.h: Version 0.0.3.
* slighttp/http.h: Upped version.
* rest/network.c (create_response): Only create a response if there isn't one.
*				 (rest_network_put_handler): Return size of data sent.
* slighttp/net-names.c (rest_net_names_head_handler): Allocate context struct.


2015-07-09 Martin Grønholdt

* slighttp/http.h (http_response): Removed unused send member.
* rest/network.c: Adjusted for new http_process_response behaviour.
* rest/net-names.c: Added rest_net_names_context.
*				  : Adjusted for new http_process_response behaviour.
*				   (rest_net_names_get_handler): Uses context struct.
*				   (rest_net_names_head_handler): Uses context and only replies with a real answer.
*				   (create_response): Uses context and create a response when done scanning.
*				   (scan_done_cb): Call http response handler when done scanning.
* rest/net-passwd.c: Adjusted for new http_process_response behaviour.
* slighttp/http-response.c (http_process_response): Keep processing if there is no response yet.
*												  : Keep count of recursion level.
* 						   (http_send_status_line): Return size of data sent.
*						   (http_send_header): Return the size of the data sent.
*						   (http_send): Return number of bytes buffered.
* slighttp/http-fs.c (http_fs_head_handler): Return size of data sent.
*					 (http_fs_get_handler): Return size of the data sent.

2015-07-08 Martin Grønholdt

* rest_handlers.h: Fixed call of test function in wrong place.
* user_main.c (status_check): Deallocation of dangling connections.
* rest/net-names.c (scan_done_cb): Only free data on error.
*								 : Better error handling.
* 				   (create_response): Free old data.
*									: Only scan until response is send.
*									: Better error handling.


2015-07-07 Martin Grønholdt

* rest/net-passwd.c (rest_net_passwd_destroy): Resets the esp8266 when called.


2015-07-05 Martin Grønholdt

* fs/connect/js/atmic.min.js: Changes content type to JSON.
* Makefile: Fixed file system scanning.


2015-07-04 Martin Grønholdt

* response_handlers.h: Added password handler.
* rest/rest.h: Added WIFI password routines.
* rest/net-passwd.c: Added file to handle setting WIFI password.
* 				    (rest_net_passwd_put_handler): Send header end.
* rest/network.c (rest_network_put_handler): Send header end.


2015-07-03 Martin Grønholdt

* Makefile: Added JSON lib.
* response_handlers.h: Added rest_network_put_handler.
* slighttp/http-response.c: Added http_status_line_204.
*						   (http_send_status_line): Added 204.
* slighttp/http-response.h: Added HTTP_STATUS_204.
* rest/network.c: Added rest_network_put_handler.
* rest/rest.h: Added rest_network_put_handler.
* slighttp/http-commen.*: Added get_header_value.
* slighttp/http-tcp.c (tcp_reconnect_cb): Don't disconnect, everything chrashes.
* slighttp/http-request.c (http_parse_headers): Get message if any.


2015-07-02 Martin Grønholdt

* slighttp/http-response.c (http_process_response): Handle specific method handler missing.


2015-07-01 Martin Grønholdt

* fs/connect/index.html: Status message, and better REST call timer.


2015-06-30 Martin Grønholdt

* debug.c (db_dealloc): Added check for empty entry in the alloc list.
* slighttp/http.h: Upped version.
* response_handlers.h: Added rest_network_head_handler.
* response_handlers.h: Added rest_net_names handlers.
* rest/network.c: Added rest_net_names_head_handler.
*				: Added create_response.
*				 (rest_network): Renamed rest_network_get_handler.
* rest/net-names.c: Added rest_network_head_handler.
*				  : Added create_response.
*				   (rest_net_names): Renamed rest_net_names_get_handler.
* rest/network.h: Added rest_network_head_handler.
* net/tcp (tcp_sent_cb): Check if connection is NULL.


2015-06-29 Martin Grønholdt

* slighttp/http.h (response_states): Added HTTP_STATE_ERROR.


2015-06-27 Martin Grønholdt

* slighttp/http-fs.c (http_fs_test): Added error status code handling.
* slighttp/http-response.c (http_process_response): Handle error status codes.
*						   (fall_through_status_handler): Handle errors when no one else will.

2015-06-24 Martin Grønholdt

* Removed main state machine files.
* net/wifi_connect.* (check_connection): Renamed wifi_check_connection.
* slighttp/http-response.h (http_process_response): Implemented closing of connection.
* user_main.c (status_check): Printing of status, and reset on loss of connection.

2015-06-23 Martin Grønholdt

* net/wifi_connect.c: Reverted to last version before state machine changes.
*                   : Changes getting up to date.
*		    		: Added check_connection.
*					: Added wifi mode to connected call back.
* net/wifi_connect.h: Added check_connection.
* user_main.c: Removed main state machine code.
*	     : Added connected call back.
*	     : Moved dispatch timer after, wifi connect.
* sm_wifi.c: Removed.
* response_handlers.h: Added file, with HTTP response handlers.


2015-06-22 Martin Grønholdt

* net/tcp.h (tcp_connection): Changed sending to boolean.
* net/tcp.c (tcp_sent_cb): Changed code to support sending being boolean.
*			(tcp_send): Changed code to support sending being boolean.
* slighttp/http.h (http_response): Added send.
*				  (http_response_states): Added HTTP_STATE_ASSEMBLED.
* slighttp/http-fs.c: Changed to use http_send.
*					 (sm_http_fs_context): Renamed to http_fs_context.
* slighttp/http-tcp (tcp_connect_cb): Set status code to 200.
*					(tcp_recv_cb): Set status code to 400 on empty request.
*								 : Start sending response, when done parsing the request.
*					(tcp_sent_cb): Send additional data if not done, else set HTTP_STATE_DONE.
*								 : Reset buffer.
* slighttp/http-response.c: Added send_buffer.
*						   (http_send_header): Changed return type to uchar.
*						   (http_send_status_line):  Changed return type to uchar.
* slighttp/http-response.h: Added http_process_response.


2015-06-21 Martin Grønholdt

* debug.c; Added db_mem_list.
* sm_http.c: Don't do anything if still sending.
* user_main.c: state is now global.
* slighttp/http.h: Added HTTP_SEND_BUFFER_SIZE.
* 				  (http_response): Added send_buffer and send_buffer_pos.
* slighttp/http-response.c: Added http_send.
* slighttp/http-request.c (http_parse_headers): Forget to increase number of headers in the second run.
* 											  : Was copying header value from th e wrong place.
*						  (http_free_request): More checks, and pass connection instead of request
* slighttp/http-tcp.c (tcp_reconnect_cb): Don't disconnect.
*					  (tcp_recv_cb): Call main event handler and send HTTP.
*					  (tcp_sent_cb): Call main event handler and send HTTP.
* slighttp/http-fs.c (httpfs_destroy): More debug.
* net/tcp.c (tcp_connect_cb): Don't disconnect.


2015-06-20 Martin Grønholdt

* slighttp/http-response.c: Removed http_send_response, uneeded.
*						   (send_status_line): Renamed http_send_status_line.
* slighttp/http-response.h: Removed http_send_response, uneeded.
*						   (send_status_line): Renamed http_send_status_line.
* user_main.c (handle_events): Added tick output in debug mode.
* sm_http.c: Dealt with disconnecting.
* net/tcp.h Removed buffer stuff.
* net/tcp.c: Removed send_buffer and other buffer stuff.
* fs/int_flash.c: Added amemcpy, to do aligned reads.
* 				 (aflash__read): Just use amemcpy, the SDK have long had a warning about 4 byte alignment.


2015-06-19 Martin Grønholdt

* fs/int_flash.c: The new SDK stole flash_read from me, it's now aflash_read.
* fs/int_flash.h: flash_read renamed aflash_read.

2015-06-19 Martin Grønholdt

* driver: After update of SDK I needed the uart driver to since os_putc was gone.
* user_main.c (user_init): Init uart driver.
* slimhttp/http-fs.c (http_fs_get_handler): Wait till next run (after headers) to send message.


2015-06-18 Martin Grønholdt

* net/tcp.c (tcp_disconnect_cb): Only call call back if there is still a connection.
* sm_http.c (http_send): Added tcp_disconnect when state is HTTP_STATE_DONE.
* tools/missing_dec.h: Added ets_printf by modifying os_sprintf.
* user_config.h: After reading Peter Scargill blog post here http://tech.scargill.net/esp8266-debug/, I made some improvements.
* slighttp/http-fs.c: Almost done.


2015-06-17 Martin Grønholdt (committed)

* user_main.c (user_init): No auto reconnect.
* net/tcp.c (send_buffer): Renamed to tcp_send_buffer.
*			(tcp_send): Little bug in debug output, address of send_buffer instead of send_buffers.
*		   : Removed last traces of the timer and call back used for clean up earlier.
*			(tcp_disconnect_cb): Restored the original handler, that passes on questionable values. 
* net/tcp.h (send_buffer): Renamed to tcp_send_buffer.
* 			: Changed buffer to 1024 bytes.


2015-06-16 Martin Grønholdt

* net-/tcp.h: Added tcp_free.
*		    : Added state_names.
* sm_http.c: Implemented http_fs_destroy.
*          : Finished http_fs_test.
*           (http_response_handler): Renamed test_uri, will_handle.
*		    (http_response_handler): Split handler into handlers for each request method.
*									 And but them in array, that is ordered so that request_types
*									 works for indexing them, by subtracting one.
* slighttp/http.h: Changed parameter of handler call backs to a http_response pointer.
*                 (http_response): Added context pointer.
*				  (http_get_handlers): Changed parameter to a struct http_request pointer.
* slighttp/http-response.c (http_get_handlers): Changed parameter to a struct http_request pointer.
* sm_wifi.c (wifi_connected): Call http_send on connection.


2015-06-15 Martin Grønholdt

* fs/fs.c (fs_open): Don't warn on file not found, just tell in a debuggy way.
*         (fs_close): Test handle before freeing the memory.
* net/tcp.c (init_tcp): Return boolean.
*			(tcp_listen: Return boolean.
*		   : Added tcp_get_connections.
* net/tcp.h (init_tcp): Return boolean.
*			(tcp_listen: Return boolean.
*		   : Added tcp_get_connections.
* slighttp/http.c (init_http): Return boolean.
* slighttp/http.h (init_http): Return boolean.
* 				  (http_request): Added response.
*                 (http_response): Re purposed http_response.
*				  (http_response): Added state.
*				  (http_response): Added handlers.
*				  (http_builtin_uti): Renamed to http_response_handler.		 
*				 : Added response_states.
* 			  	 : Added http_get_handlers.
* slighttp/http-request (http_parse_request): Eliminated start_offset parameter.
*						(http_get_request_type): New function.
*						(http_process_request): Removed.
*					   : All local functions static.
*					   : Creates a (parsed) copy of the request data.
* slighttp/http-response.c: Added http_get_handlers.
*						   (http_get_handlers): Fixed, would not return the rigth handler.
* slighttp/http-request.h: Only export http_parse_request and http_free_request.
* slighttp/http-common.h: Added HTTP_SKIP_SPACES, and HTTP_SKIP_CRLF.
* sm_func.h: Added resboot.
* sm_types (states): Added HTTP_INIT, HTTP_SEND, and SYSTEM_RESTART.
*				   : Added HTTP_CLEANUP.
* sm.h (handlers): Added http_init, and restart.
* sm.h (handlers): Added http_mutter_med_kost_og_spand.
* sm_wifi.c: Created file and moved main state machine wifi functions here.
* sm_http.c: Added file with main state machine HTTP functions.


2015-06-13 Martin Grønholdt

* sm_wifi.c: Added file.
* sm_func: Added file.
* sm.h: Created file with most of the main state machine stuff.
* sm_types.h: Added with types for main state machine.
* net/wifi_connect.*: Changed code to work as a state machine.
* user_main.c: Added init done call back.
*			 : Added timer dispatch_timer to call an event dispatch function.
*			 : Removed connected_cb, handled by the dispatcher.
* user_config.h: Include mem.h.
*			   : Added db_printf, which tries to silence the SDK.


2015-06-13 Martin Grønholdt (committed)

* user_config.h: Network connection timeout set to 10 sec.
* net/tcp.c (tcp_send): Don't zero terminate.
*			(tcp_timer_cb): Free connection data if asked.
*			(tcp_disconnect_cb): Set closing.
*			(send_buffer): Print buffer with putc.

2015-06-12 Martin Grønholdt

* net/tcp.c (send_buffer): Double buffering.
*						 : Switch buffer if first half is full.
*		    (tcp_sent_cb): Update buffer_used.
*						 : Only close connection if buffer is empty.
*						 : Call send_buffer instead of duplicating code.
*		    (tcp_send): Double buffering.
*					  : Update buffer_used.
*					  : User buffer_used to check for overflow.
*		    (tcp_timer_cb): Double buffering.
*			(tcp_free): Free send_buffers instead of send_buffer.
*			(tcp_connect_cb): Initialise buffer_used.
* net/tcp.h (tcp_connection): Added send_buffers.
*							: Added buffer_used.
*							: Changed sending from bool to size_t.
* debug.c (db_dealloc): Nicer output.
* slighttp/http-tcp.c (tcp_disconnect_cb): Don't do anything.


2015-06-11 Martin Grønholdt

* net/tcp.h (tcp_connection): Added sending and closing status.
*			(tcp_disconnect): Return void.
* net/tcp.c (init_tcp): Added house keeping timer.
*		    (tcp_connect_cb): Initialise sending and closing status.
*		    (tcp_disconnect_cb): Do nothing, since it is taken care of by the timer.
*		    (send_buffer): Only send the message if the buffer is full.
*		    (tcp_sent_cb): Moved buffer stuff up front.
*		    (tcp_send): Wait until no one is sending on the connection.
*		    (tcp_timer_cb): Dispatch the send buffer.
*		    (send_buffer): More debug output.
*			(tcp_disconnect): Only set closing for the connection.
*			(tcp_disconnect): Return void.
*			(tcp_sent_cb): Close the connection if asked.
*		   : Zero terminate the buffer.
*		   : Added tcp__timer_cb.
* fs/fs.c (fs_read): Did not advance position after reading.
* rest/rest.h: Changes for slighttp.
* rest(network.c: Changes for slighttp.
* rest/net-names.c: Changes for slighttp.
* slighttp/http-tcp.c (tcp_connect_cb): Forgot to set the connection pointer in the request.
* slighttp/http-request.c (http_parse_headers): Fixed handling of no headers.
* slighttp/http-response.h: Removed http_free_response.
*						  : Added http_send_header.
*						  : Added newline and line feed to HTTP_STATUS_HTTP_VERSION.
* slighttp/http-response.c: Removed http_free_response.
*	                      : Added http_send_header.
*						   (send_status_line): Removed seperate newline ad line feed.
* user_main.c: Removed old static page code.
*		      (g_builtin_uris): Added REST handlers instead.


2015-06-10 Martin Grønholdt

* slighttp/http-response.h: Removed header generation macros.
* slighttp/http.h (uri_html_callback): Renamed uri_html_callback to uri_response_callback. 
				  (uri_response_callback): Removed parameter response from uri_response_callback.
				  (uri_response_callback): Changed return type to size_t.
				 : Removed HTTP_CLOSE_CONNECTIONS.
				 : Added HTTP_FILE_CHUNK_SIZE, to set where to split file reads.
				 : Eliminated http_generate_response.
* slighttp/http-mime.h: Added enum mime_type_enum.
* fs/fs.c (fs_read): Fixed was always readin from start of file.
* fs/int_flash.c (flash_read): More debug output.
* fs/zip.h: Added init_zip.
* fs/zip.c: Added init_zip.
*		   (zip_find_file_header): Fixed access to data after they were freed.
								 : File look up caching.
		   (zip_is_dir): Fixed a string index.
* net/wifi_config.c: Removed file.
* net/wifi_config.h: Removed file.
* slighttp/html-response.c (http_send_response): More debug output.
* net/wifi_connect.c: Added static network REST handler.
* rest/network.c: Added file. Return the current network name.
* rest/net-names (rest_net_names_html): Return an empty JSON array while scanning.
*                                     : Added more debug output.
*									  : Changed name to rest_net_names.
*				 (rest_net_names_destroy): Renamed parameter html to response.
* rest/rest.h: Changed rest_net_names_html to rest_net_names.
*			 : Added rest_network_test, rest_network, and rest_network_destroy.
			 (rest_net_names_destroy): Renamed parameter html to response.
* rest/net-names.c (rest_net_names_test): Fixed comparison length.
* fs/connect/index.html: Implemented REST data for network selection.


2015-06-10 Martin Grønholdt (committed)

* slighttp/http-response.c (http_send_response): Changed for added size parameter to tcp_send.
* debug.c (db_alloc): Fixed debug message.
* net/tcp.c (send_buffer): Added function to send the buffer.
			(tcp_send): Buffering.
			(tcp_send): Added size paramerter.
			(tcp_sent_cb): Initialise buffer pointers.			.
			(tcp_free): Free buffer.
* net/tcp.h: Added TCP_SEND_BUFFER_SIZE.
		    (tcp_connection): Added send_buffer to struct.
		    (tcp_connection): Added current_buffer_pos to struct.
			(tcp_send): Added size paramerter.		    
* tools/ring.h: Added file.
			  : Added struct ring_buffer.
			  : Added init_ring.
			  : Added ring_push_back.
			  : Added ring_pop_front.
* tools/ring.c: Added file.
			  : Added init_ring.
			  : Added ring_push_back.
			  : Added ring_pop_front.


2015-06-09 Martin Grønholdt

* net/tcp.c (tcp_connect_cb): Set recv_callback and sent_callback.
* File system: Added atomic.js from https://github.com/toddmotto/atomic.
*			 : Added jsonhttprequest.js from https://pixelsvsbytes.com/2011/12/teach-your-xmlhttprequest-some-json/.
* fs/fs.c (fs_read): Return count.
* user_main.c: Added response as parameter to static HTML generators.
* rest/net-names.c (rest_net_names_html): Added JSON MIME type.
				   					    : Added response as parameter.
* slighttp/http-mime.c (http_mime_types): Added JSON MIME type.
* slighttp/http-mime.h: Upped number of MIME types.
* slighttp/http.h: Added parameter response to uri_html_callback.
* slighttp/http-response.c (http_generate_response): Uses fs_uri for file system access.
						   (http_generate_response): Passes response to static call back.
						   (http_generate_response): Corrected bug in MIME detection.
						   (http_send_response): Really print message size when debugging.
						   (http_send_response): Added check for header pointer before sending.
						   (http_send_response): Added more header debugging messages.


2015-06-08 Martin Grønholdt (committed)

* rest/net-names.c (rest_net_names_destroy): Added code.
				   (json_create_string_array): Free lengths.
* debug.c (db_alloc): The type of alloc call was switched.
* slighttp/http-response.c (http_generate_response): Added boolean check of whether a page is found.
						   (http_generate_response): Initialise message pointer to NULL.
						   (http_free_response): Check if message is NULL before dealloc.
						   (http_send_response): Check if message is NULL before using it.
						   (http_generate_response): Call static page clean up call back.

2015-06-07 Martin Grønholdt

* rest/net-names.c: Added json_create_string_array.
* Makefile: Removed cjson from MODULES.


2015-06-06 Martin Grønholdt

* rest/net-names.c: Added cjson include.
* cjson: Added files from http://sourceforge.net/projects/cjson/.
* Makefile: Added cjson to MODULES.

2015-06-05 Martin Grønholdt

* slighttp/http-response.c (http_generate_response): Only file system uses root path.
* 												   : Better handling of NULL message from static callback.


2015-06-04 Martin Grønholdt

* tools/itoa.c (itoa): Fixed sign bug.
* net/wifi_connect.c: Included rest/rest.h.
				    : Added net names to static URI's.
				     (create_softap): Create in SOFTAP + STATION mode.
* Makefile: Added rest directory to MODULES.
* rest/rest.h: Added file.
*            : Added net names call backs.
* rest/net-names.c: Added file.
* net/wifi_config.c: Removed template stuff.
* net/wifi_connect.c: Removed template stuff.
* fs/connect/index.html: Removed template stuff.
* fs/connect/index.tmpl: Moved to index.html
* tools/itoa.h: Removed.


2015-06-03 Martin Grønholdt

* tools/ftoa.c: Added file.
			  : Added ftoa.
* tools/itoa.c (itoa): Error checking.
			   (itoa): Negative number handling.
			   (itoa): Value is now long type.
			   (itoa): Base is unsigned char.
* tools(strxtra.h): Moved itoa here.
			 	  : Added ftoa.


2015-06-01 Martin Grønholdt

* tmpl/tmpl.c (global): Added get_var.
* tmpl/tmpl.c (tmpl_apply): Still not done. Can count and find tokens.
* slighttp/http-response.c (http_send_response): Added message size to debug output.
* File system: fs/connect/index.html renamed to index.tmpl.


2015-05-31 Martin Grønholdt

* slighttp/http-response.c (http_generate_response): Fixed a bug where 404
													 status was not set and
													 the wrong content length
													 was returned.
* tools/strxtra.c (strrpl): No longer creates a new string.
* Makefile: Made file system generation delete the old zip first.
* tmpl/tmpl.c (global): Added get_token_size.
			  (global): Added struct tmpl_token.
* tmpl/tmpl.h (global): Added TMPL_TOKEN_ID.


2015-05-30 Martin Grønholdt (committed)

* fs/int_flash.h (flash_dump): Fixed parameter type from unsigned int to size_t.
* 				 (flash_dump_mem): Fixed parameter type from unsigned int to size_t.
* dl_list.h: moved to tools/dl_list.h
* fs/zip.c (zip_load_header): Didn't actually check for he right header signature.
* Makefile: Added user/tmpl to MODULES, so it compiles.
* tmpl/tmpl.c (global): Created file.
			  (global): Added init_tmpl.
			  (global): Added tmpl_apply.
			  (global): Added tmpl_destroy.
			  (global): Added tmpl_add_var.
			  (global): Included tools/strxtra.h
* tmpl/tmpl.h (global): Created file.
			  (global): Added struct tmpl_context.
			  (global): Added init_tmpl.
			  (global): Added tmpl_apply.
			  (global): Added tmpl_destroy.
			  (global): Added tmpl_add_var.		  
* net/wifi_config.c (global): Added file.
					(global): Added wifi_conf_test.
					(global): Added wifi_conf__html.
					(global): Added wifi_conf_destroy.
					(global): Included tmpl/tmpl.h.
					(global): Added wifi_conf_context.
					(wifi_conf_html): Added template functions.
					(wifi_conf_destroy): Added freeing of template context.
* net/wifi_config.h (global): Added file.
					(global): Added wifi_conf_test.
					(global): Added wifi_conf__html.
					(global): Added wifi_conf_destroy.
* net/wifi_connect.c (global): Added static URI struct
					 (global): Added static page provided by wifi_config.c.
* tools/strxtra.c (global): Added strrpl.
				  (global): Added digits_f.
				  (digits): Optimized a div to a mul.
				  (digits): Changed return type to unsigned short.
* tools/strxtra.h (global): Added strrpl.
				  (global): Added digits_f.
				  (digits): Changed return type to unsigned short.
* sligthttp/http.h (global): Added uri_destroy_callback.
				   (global): Renamed uri_callback to uri_html_callback.
				   (global): Added destroy to struct http_builtin_uri.
* slighttp/http-response.c (http_generate_response): Fixed a bug in URI generation.


2015-05-29  Martin Grønholdt

* slighttp/http.c (init_http): Added path.
				  (global)	 : Added http_fs_doc_root.
* slighttp/http.h (init_http): Added path.
							   Added extern.
				  (global)   : Upped version.
				  (global)	 : Added http_fs_doc_root.
* slighttp/http-response.c (http_generate_response): Document root handling.
												     Fixed a deallocation issue.
* user_main.c (connected_cb): Added path to init_http call.
* user_config.h (global): Added DEBUG_MEM_LIST.
* debug.c (db_dealloc): Made memory allocation listning optional.
* net/tcp.h (global): Added tcp_stop.
				      Added extern.
* net/tcp.c (global): Added tcp_stop.
* net/wifi_connect (timeout_cb): Added HTTP server.
* CHANGELOG: Added commit history.
* File system:: fs/ added connect directory and files.

Thu May 28 23:38:34 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
V0.0.2

M	user/slighttp/http.h
M	user/user_config.h


Thu May 28 23:30:57 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
MIME support.

A	docs/specs/rfc2046.txt
M	fs/connect.html
A	user/debug.c
M	user/fs/fs.c
M	user/fs/zip.c
M	user/net/tcp.c
M	user/slighttp/http-common.c
A	user/slighttp/http-mime.c
A	user/slighttp/http-mime.h
M	user/slighttp/http-request.c
M	user/slighttp/http-request.h
M	user/slighttp/http-response.c
M	user/slighttp/http-tcp.c
M	user/slighttp/http.c
M	user/slighttp/http.h
M	user/tools/strxtra.c
M	user/user_config.h


Thu May 28 14:27:06 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Liveware fault in the previous commit.

M	Makefile


Thu May 28 14:13:52 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Moved fs size check. Available space in flash might change without remaking the filesystem.

M	Makefile


Tue May 26 23:28:23 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Mostly back on track, needs some fixes.

M	user/slighttp/http-common.c
M	user/slighttp/http-common.h
M	user/slighttp/http-request.c
M	user/slighttp/http-request.h
M	user/slighttp/http-response.c
M	user/slighttp/http-response.h
M	user/slighttp/http-tcp.c
M	user/slighttp/http.c
M	user/slighttp/http.h


Tue May 26 22:01:52 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Addit digits function.

M	user/tools/strxtra.c
M	user/tools/strxtra.h


Tue May 26 19:21:50 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
THIS IS BROKEN! I am commiting anyway since I'm about to change a lot of code.

A	docs/specs/rfc7230.txt
A	docs/specs/rfc7231.txt
A	docs/specs/rfc7232.txt
A	docs/specs/rfc7233.txt
A	docs/specs/rfc7234.txt
A	docs/specs/rfc7235.txt
A	docs/specs/rfc7540.txt
A	docs/specs/rfc7541.txt
A	tools/testsize.sh


Mon May 25 22:13:20 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Corrected the debug target, to not need everything to be build.

M	Makefile


Sat May 23 19:08:52 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Reorganised slighttp.

M	docs/TODO
M	user/net/tcp.h
A	user/slighttp/http-common.c
A	user/slighttp/http-common.h
A	user/slighttp/http-request.c
A	user/slighttp/http-request.h
A	user/slighttp/http-response.c
A	user/slighttp/http-response.h
A	user/slighttp/http-tcp.c
A	user/slighttp/http-tcp.h
M	user/slighttp/http.c


Sat May 23 15:13:53 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Basic file support for slighttp.

M	fs/index.html
M	user/fs/fs.c
M	user/fs/fs.h
M	user/fs/int_flash.c
M	user/fs/int_flash.h
M	user/fs/zip.c
M	user/fs/zip.h
M	user/slighttp/http.c
M	user/user_main.c


Sat May 23 14:26:27 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Added min CSS framework (http://mincss.com).

A	fs/css/min.css


Sat May 23 11:22:18 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Added fs_gets(str, count, file).

A	docs/TODO
M	user/fs/fs.c
M	user/fs/fs.h
M	user/fs/zip.c
M	user/user_main.c


Fri May 22 23:39:07 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
More fine grained debug messages and a little more file API.

M	user/fs/fs.c
M	user/fs/fs.h
M	user/fs/zip.c
M	user/net/tcp.c
M	user/net/wifi_connect.c
M	user/slighttp/http.c
M	user/user_config.h
M	user/user_main.c


Fri May 22 22:14:48 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
ZIP work and docs mostly.

M	user/fs/fs.c
M	user/fs/fs.h
M	user/fs/int_flash.c
M	user/fs/int_flash.h
D	user/fs/memzip.c
D	user/fs/memzip.h
A	user/fs/zip.c
A	user/fs/zip.h
M	user/user_main.c


Wed May 20 23:23:04 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Basic file access.

A	user/fs/fs.c
A	user/fs/fs.h
M	user/fs/int_flash.c
M	user/fs/int_flash.h
M	user/fs/memzip.c
M	user/fs/memzip.h
M	user/user_config.h
M	user/user_main.c


Wed May 20 19:45:38 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Forgot a header.

M	user/led.c


Wed May 20 19:41:32 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Oops, the user/tools folder was ignored.

M	.gitignore
A	user/tools/itoa.c
A	user/tools/itoa.h
A	user/tools/missing_dec.h
A	user/tools/strxtra.c
A	user/tools/strxtra.h


Tue May 19 23:54:32 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Proper sizes on all alloc functions when debugging.

M	user/user_config.h


Tue May 19 23:48:12 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Basic ZIP parsing ported.

M	user/fs/int_flash.c
M	user/fs/int_flash.h
M	user/fs/memzip.c
M	user/fs/memzip.h
M	user/user_main.c


Tue May 19 23:47:20 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Size of allocation in memory debug output.

M	user/user_config.h


Tue May 19 20:45:45 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Fixed a bug in zip creation.

M	Makefile


Tue May 19 00:56:15 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Little work on file system.

A	user/fs/int_flash.c
A	user/fs/int_flash.h
M	user/fs/memzip.c
M	user/fs/memzip.h
D	user/int_flash.c
D	user/int_flash.h
M	user/user_main.c


Mon May 18 22:48:29 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
So clever i forget myself.

M	Makefile


Mon May 18 22:45:36 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Rearranged, dropped spiffs, and added minizip code by Dave Hylands.

M	Makefile
D	spiffs
D	spiffy
A	user/fs/memzip.c
A	user/fs/memzip.h
D	user/http.c
D	user/http.h
A	user/int_flash.c
A	user/int_flash.h
D	user/itoa.c
D	user/itoa.h
M	user/led.c
D	user/missing_dec.h
A	user/net/tcp.c
A	user/net/tcp.h
A	user/net/wifi_connect.c
A	user/net/wifi_connect.h
A	user/slighttp/http.c
A	user/slighttp/http.h
D	user/strxtra.c
D	user/strxtra.h
D	user/tcp.c
D	user/tcp.h
M	user/user_config.h
M	user/user_main.c
D	user/wifi_connect.c
D	user/wifi_connect.h


Sat May 16 17:31:39 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Spiffs image generation done.

M	.gitignore
M	Makefile
D	fs/admin/index.html
D	fs/connect/index.html
M	spiffy


Sat May 16 13:54:22 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
More spiffly integration.

M	Makefile
A	fs/admin.html
A	fs/connect.html
D	fs/default/index.html
A	fs/index.html
M	spiffy


Sat May 16 08:57:50 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Added spiffy.

M	.gitmodules
M	Makefile
A	spiffy


Sat May 16 00:46:08 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Add file system skeleton.

A	fs/admin/index.html
A	fs/connect/index.html
A	fs/default/index.html


Fri May 15 22:21:10 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
TCP include fix, and CLF logging fromweb server to console.

M	user/http.c
M	user/tcp.h


Fri May 15 18:34:36 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Better HTTP 1.1 support.

M	Makefile
M	user/http.c
M	user/http.h
M	user/missing_dec.h
A	user/strxtra.c
A	user/strxtra.h
M	user/tcp.c
M	user/user_main.c


Tue May 12 23:15:46 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Doxygen docs and refinements.

M	user/http.c
M	user/led.c
M	user/user_main.c


Tue May 12 02:02:10 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Raw POST support.

M	user/http.c
M	user/http.h
M	user/led.c
M	user/led.h
M	user/user_main.c


Mon May 11 22:41:27 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
ULT version. Ugly LED Toggle.

M	user/http.c
M	user/http.h
A	user/led.c
A	user/led.h
M	user/tcp.c
M	user/user_main.c


Mon May 11 22:39:18 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Document local structs.

M	.doxyfile


Mon May 11 00:02:04 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
POST ang GET tests.

M	user/user_main.c


Mon May 11 00:01:06 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Include static stuff..

M	.doxyfile


Mon May 11 00:00:08 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Cleanup and doc.

M	user/http.c


Sun May 10 22:04:20 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Another way for gnomes to say strstr.

M	user/http.c
M	user/http.h


Sun May 10 21:59:52 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Using C99, will propably go back.

M	Makefile


Sun May 10 21:56:41 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Forgot to reenable this.

M	user/tcp.c


Sun May 10 19:16:13 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Longer disconnect timeout.

M	user/tcp.c


Sun May 10 12:46:19 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Doxygen doc.

M	user/tcp.c
M	user/tcp.h


Sun May 10 12:20:25 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
HTTP headers are made available.

M	user/http.c
M	user/tcp.c


Sun May 10 12:19:39 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Allocated memory blocks debugging info.

M	user/user_config.h


Sat May 9 17:42:01 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Fixes and minor stuff.

M	user/http.c
M	user/http.h
M	user/tcp.c
M	user/user_config.h


Sat May 9 17:35:24 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Fix for first entry in list.

M	user/dl_list.h


Sat May 9 17:34:00 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
This seems to work better.

M	Makefile


Sat May 9 10:42:52 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
debug target, and smarter debug logs.

M	.gitignore
M	Makefile


Sat May 9 09:23:07 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Added free user pointer to struct tcp_connection.

M	user/tcp.h


Sat May 9 09:22:01 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Checking that a callback exists, before blindly calling it.

M	user/tcp.c


Fri May 8 23:17:25 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
More Doxygen and some more HTTP error handling.

M	user/http.c
M	user/http.h
M	user/tcp.c
M	user/tcp.h
M	user/user_main.c


Fri May 8 07:01:24 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Minor fixes. Mostly Dosygen documentation.

M	.doxyfile
M	user/dl_list.h
M	user/http.c
M	user/http.h
M	user/tcp.c
M	user/tcp.h


Thu May 7 19:37:10 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Initial doxygen support, and almost nothing is documented.

A	.doxyfile
M	.gitignore
M	Makefile
M	user/http.c
M	user/http.h


Thu May 7 19:31:26 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
TCP seems to work again, and a lot of debugging stuff has been removed.

M	user/tcp.c
M	user/tcp.h


Thu May 7 17:15:54 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
I have come as close as I am able, to finding a reason for the strange behavior. Now it is time to work around it.

M	user/tcp.c


Thu May 7 00:10:28 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
There's a major malfunction in the TCP library. TCP the disconnect callback, gets a strange espconn pointer, mostly because the member reverse, seem to magicly have changed.

M	user/http.c
M	user/tcp.c


Mon May 4 00:13:04 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Fixes.

M	user/dl_list.h
M	user/tcp.c


Sun May 3 23:27:41 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Clearer error reporting.

M	user/wifi_connect.c


Sun May 3 23:26:55 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Multiply TCP connections support.

A	user/dl_list.h
M	user/http.c
M	user/tcp.c
M	user/tcp.h


Sun May 3 23:24:54 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Commented changes.

M	Makefile


Sun May 3 21:40:41 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Added debugflash target, which start the serial console right after flashing the firmware.

M	Makefile


Sun May 3 18:11:47 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Added memory usage info.

M	Makefile
A	mem_usage.sh


Sun May 3 12:11:29 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Auto dependencies.

M	Makefile


Sat May 2 07:51:35 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
404.

M	user/http.c
M	user/http.h


Sat May 2 07:33:43 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
A few fixes.

M	user/wifi_connect.c


Sat May 2 07:33:18 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
More advanced Hello World.

M	user/http.c
M	user/http.h
M	user/tcp.c
M	user/tcp.h
M	user/user_main.c


Tue Apr 28 00:10:08 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Ignore serial log file.

M	.gitignore


Mon Apr 27 23:52:06 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Added baud rate config.

M	Makefile


Mon Apr 27 21:33:09 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Beginnings of a more complete HTTP server.

A	user/http.c
A	user/http.h


Fri Apr 24 14:26:01 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Made blooper.

M	user/wifi_connect.c


Fri Apr 24 09:13:08 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Fixed include guards.

M	user/missing_dec.h
M	user/tcp.h
M	user/user_config.h
M	user/wifi_connect.h


Fri Apr 24 00:12:05 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Hello world http server.

M	user/tcp.c


Fri Apr 24 00:11:25 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Fixed an status print error and comments.

M	user/wifi_connect.c


Thu Apr 23 18:46:33 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Initital TCP stuff.

M	user/missing_dec.h
A	user/tcp.c
A	user/tcp.h
M	user/user_config.h
M	user/user_main.c


Thu Apr 23 18:45:34 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Stupid mistake, would only try to show IP if not connected.

M	user/wifi_connect.c


Thu Apr 23 18:02:40 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Added IP information display.

M	user/wifi_connect.c
M	user/wifi_connect.h


Thu Apr 23 17:30:12 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Rebuilds everyting if headers change.

M	Makefile


Thu Apr 23 17:28:00 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Basic soft AP mode working.

M	user/user_config.h
M	user/wifi_connect.c
M	user/wifi_connect.h


Thu Apr 23 15:29:19 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Basic connecting to a WIFI works.

M	user/user_main.c
M	user/wifi_connect.c
M	user/wifi_connect.h


Wed Apr 22 11:42:57 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Fixed some SPIFFS warnings.

M	spiffs


Wed Apr 22 11:41:11 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Fixes for a lot of warnings.

A	user/missing_dec.h
M	user/user_main.c
M	user/wifi_connect.c


Wed Apr 22 11:40:06 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Added blanking of upper flash and all warnings from gcc.

M	Makefile


Wed Apr 22 08:58:55 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Still WIFI connect dows not work.

M	user/wifi_connect.c


Wed Apr 22 00:19:33 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Working on WIFI.

M	user/user_config.h
M	user/user_main.c
M	user/wifi_connect.c
M	user/wifi_connect.h


Wed Apr 22 00:18:45 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
TODO: Need to depend on .h files in Makefile..

M	Makefile


Wed Apr 22 00:16:59 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Ignore more bin files.

M	.gitignore


Tue Apr 21 11:56:20 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Reenabled proper make output.

M	Makefile


Sat Apr 18 09:30:25 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Forked spiffs, to save local changes.

M	.gitmodules
M	spiffs


Sat Apr 18 02:24:30 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Forgot these the last time.

M	.gitignore
M	Makefile


Sat Apr 18 02:23:39 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Imported spiffs sources.

A	.gitmodules
A	spiffs


Sat Apr 18 01:57:13 2015 +0200 by deadbok (martin.groenholdt@gmail.com)
Initial commit. Almost nothing works.

A	Makefile
A	README.md
A	user/itoa.c
A	user/itoa.h
A	user/user_config.h
A	user/user_main.c
A	user/wifi_connect.c
A	user/wifi_connect.h


Sat Apr 18 01:51:06 2015 +0200 by Martin Bo Kristensen Grønholdt (martin.groenholdt@gmail.com)
Initial commit

A	.gitignore
